<div class="max-w-md mx-auto my-10 p-4 bg-white rounded-md shadow-lg" *ngIf="!isFinished">
    <h2 class="text-2xl font-semibold">{{questions[currentQuestion].question}}</h2>
    <ul class="mt-4">
      <li *ngFor="let answer of questions[currentQuestion].answers" class="py-2">
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" 
                [ngClass]="{'bg-green-500': selectedAnswer === answer}" 
                [disabled]="isTimedOut || (isTimed && elapsedTime >= timePerQuestion)" 
                (click)="selectAnswer(answer)">{{answer}}</button>
      </li>
    </ul>
    <p class="mt-4" *ngIf="isTimed">Time remaining: {{timePerQuestion - elapsedTime % timePerQuestion}} seconds</p>
    <p class="mt-4" *ngIf="isTimed && isFinished">Maximum time per question: {{maxTimePerQuestion}} seconds</p>
    <p class="mt-4" *ngIf="isTimed && isFinished">Minimum time per question: {{minTimePerQuestion}} seconds</p>
    <p class="mt-4" *ngIf="isTimed && !isFinished">Average time per question: {{(elapsedTime / currentQuestion).toFixed(2)}} seconds</p>
    <p class="mt-4" *ngIf="isTimed && isFinished && elapsedTime > 0">Average time per question: {{(elapsedTime / questions.length).toFixed(2)}} seconds</p>
    <p class="mt-4" *ngIf="isTimed && !isFinished && elapsedTime >= timePerQuestion">Time's up!</p>
    <button class="mt-4 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded" 
            [disabled]="selectedAnswer === '' || isTimedOut" 
            (click)="nextQuestion()">Next</button>
    <button class="mt-4 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded" 
            (click)="removeTimeControl()">Remove time control</button>
  </div>
  <div class="max-w-md mx-auto my-10 p-4 bg-white rounded-md shadow-lg" *ngIf="isFinished">
    <h2 class="text-2xl font-semibold">Quiz complete!</h2>
    <p class="mt-4">You scored {{score}} out of {{questions.length}}</p>
    <p class="mt-4">Time elapsed: {{elapsedTime}} seconds</p>
    <p class="mt-4" *ngIf="isTimed && isFinished">Maximum time per question: {{maxTimePerQuestion}} seconds</p>
    <p class="mt-4" *ngIf="isTimed && isFinished">Minimum time per question: {{minTimePerQuestion}} seconds</p>
    <p class="mt-4" *ngIf="isTimed && isFinished && elapsedTime > 0">Average time per question: {{(elapsedTime / questions.length).toFixed(2)}} seconds</p>
  </div>